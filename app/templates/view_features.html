{% extends "base.html" %}

{% block title %}Features voor {{ project.project_name }}{% endblock %}

{% block content %}
<div class="container mt-5">

    <h2 class="mb-4">Feature Overzicht: {{ project.project_name }}</h2>
    
    <div class="mb-3 d-flex justify-content-start">
        <a href="{{ url_for('main.add_feature', project_id=project.id_project) }}" 
           class="btn btn-primary me-2">
            + Nieuwe Feature Toevoegen
        </a>
        <a href="{{ url_for('main.vectr_chart', project_id=project.id_project) }}" 
           class="btn btn-info me-2">
            ðŸ“ˆ VECTR Chart
        </a>
        <a href="{{ url_for('main.projects') }}" 
           class="btn btn-secondary">
            Terug naar Projecten
        </a>
    </div>

    {% if features %}
    <div class="card shadow p-4">
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>Titel</th>
                        <th>ROI (%)</th>
                        <th>TtV (Weken)</th>
                        <th>Confidence</th>
                        <th>Horizon</th>
                        <th>Acties</th>
                    </tr>
                </thead>
                <tbody>
                    {% for feature in features %}
                    <tr>
                        <td>{{ feature.name_feature }}</td>
                        
                        <td>
                            {% if feature.roi_percent is not none %}
                                {{ "{:.1f}".format(feature.roi_percent) }}%
                            {% else %}
                                N/A
                            {% endif %}
                        </td>
                        
                        <td>
                            {% if feature.ttv_weeks is not none %}
                                {{ "{:.0f}".format(feature.ttv_weeks) }}
                            {% else %}
                                N/A
                            {% endif %}
                        </td>
                        
                        <td>
                            {% if feature.quality_score is not none %}
                                {{ "{:.2f}".format(feature.quality_score) }}
                            {% else %}
                                N/A
                            {% endif %}
                        </td>
                        
                        <td>Q{{ feature.horizon }}</td>
                        
                        <td>
                            <a href="#" class="btn btn-sm btn-edit">Bewerken</a>
                            <a href="#" class="btn btn-sm btn-danger">Verwijderen</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    {% else %}
    <div class="alert alert-warning" role="alert">
        Er zijn nog geen feature-ideeÃ«n toegevoegd aan dit project.
    </div>
    {% endif %}

</div>
{% endblock %}